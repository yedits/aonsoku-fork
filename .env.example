# ============================================
# AONSOKU UNIFIED CONFIGURATION
# ============================================
# INSTRUCTIONS:
# 1. Copy this file to .env in the same directory
# 2. Fill in your actual values
# 3. NEVER commit the .env file to git
#
# This single .env file configures ALL services:
# - Main Aonsoku app (port 3000)
# - Tag Writer Service (port 3001)
# - Upload Service (port 3002)
# - Auth Service (port 3005)

# ============================================
# MAIN APPLICATION
# ============================================

# Frontend port
PORT=3000

# Navidrome/Subsonic server URL
VITE_API_URL=http://localhost:4533
VITE_SERVER_URL=http://localhost:4533

# YouTube API key (get from https://console.cloud.google.com/)
VITE_YOUTUBE_API_KEY=your_youtube_api_key_here

# Service URLs (these match the ports below)
VITE_TAG_WRITER_URL=http://localhost:3001
VITE_UPLOAD_SERVICE_URL=http://localhost:3002
VITE_ACCOUNT_API_URL=http://localhost:3005/api

# ============================================
# NAVIDROME CONNECTION (SHARED BY ALL SERVICES)
# ============================================

NAVIDROME_URL=http://localhost:4533
NAVIDROME_USERNAME=your_navidrome_username
NAVIDROME_PASSWORD=your_navidrome_password

# ============================================
# TAG WRITER SERVICE (Port 3001)
# ============================================

TAG_WRITER_PORT=3001

# Music library paths (comma-separated if multiple)
TAG_WRITER_MUSIC_PATH=/path/to/your/music

# CORS origins (comma-separated)
TAG_WRITER_CORS_ORIGINS=http://localhost:3000,http://localhost:4533,http://localhost:5173

# ============================================
# UPLOAD SERVICE (Port 3002)
# ============================================

UPLOAD_PORT=3002

# Temporary upload directory
UPLOAD_DIR=/tmp/uploads

# Where uploaded files should be moved (must match Navidrome's music folder)
UPLOAD_MUSIC_PATH=/path/to/your/music

# Max file size in bytes (100MB = 104857600)
UPLOAD_MAX_FILE_SIZE=104857600

# ============================================
# AUTH SERVICE (Port 3005)
# ============================================

AUTH_PORT=3005
AUTH_NODE_ENV=development

# Frontend URL for CORS and redirects
AUTH_FRONTEND_URL=http://localhost:3000

# Database (use sqlite for development, postgres for production)
AUTH_DATABASE_TYPE=sqlite
AUTH_DATABASE_PATH=./auth-service/data/auth.db

# JWT Secrets - GENERATE YOUR OWN!
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
AUTH_JWT_SECRET=generate_a_random_32_byte_hex_string_here
AUTH_JWT_REFRESH_SECRET=generate_another_random_32_byte_hex_string_here
AUTH_SESSION_SECRET=generate_one_more_random_32_byte_hex_string_here

# Token expiration
AUTH_JWT_EXPIRES_IN=7d
AUTH_JWT_REFRESH_EXPIRES_IN=30d

# Google OAuth (optional)
AUTH_GOOGLE_CLIENT_ID=
AUTH_GOOGLE_CLIENT_SECRET=
AUTH_GOOGLE_CALLBACK_URL=http://localhost:3005/api/auth/google/callback

# Discord OAuth (optional)
AUTH_DISCORD_CLIENT_ID=
AUTH_DISCORD_CLIENT_SECRET=
AUTH_DISCORD_CALLBACK_URL=http://localhost:3005/api/auth/discord/callback

# Security settings
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=100
AUTH_BCRYPT_ROUNDS=12
AUTH_COOKIE_SECURE=false
AUTH_COOKIE_SAME_SITE=lax
